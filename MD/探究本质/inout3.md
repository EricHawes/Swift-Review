## inout 参数传递观察型属性会触发观察的 willSet 和 didSet 方法吗？底层原理是什么？为什么这样设计？

#### inout 参数传递观察型属性会触发观察的 `willSet` 和 `didSet` 方法吗？

会触发

#### 底层原理是什么？

`inout` 如果有物理内存地址，且没有属性观察器，直接将内存地址传入函数。 如果是计算属性，或者设置了属性观察器，采取 `Copy-In-Copy-out` 做法，调用该函数，先复制实参的值，产生副本，将副本的内存地址传入函数(副本进行引用传递)，在函数内部可以修改副本的值，函数返回后，将副本的值覆盖实参的值。



#### Reference

https://juejin.im/post/5d5c0010e51d456201486e4c#heading-5