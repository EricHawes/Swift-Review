## String 类型占多少个字节？String 类型变量的字面量在内存中是怎样存储的？

#### String 类型占多少个字节？

占 16 个字节

#### String 类型变量的字面量在内存中是怎样存储的？

`String` 是采用了小数据优化，大数据不优化方案，在OC中叫 `tag pointer`，其实就是小数据不用指针，大数据使用指针。

#### String 字面量长度小于 16 个字节是怎样存储的？大于 16 个字节又是怎样存储的？

当长度大于 15 使用指针存储，小于 15 直接存储数据。 当长度小于 15 `String` 是存储在数据段，当进行 `append()` 操作，会将数据段数据复制到栈区，而且使用指针存储数据。 



#### Reference

https://juejin.im/post/5d5c0010e51d456201486e4c#heading-11